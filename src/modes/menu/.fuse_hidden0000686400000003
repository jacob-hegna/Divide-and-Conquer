#include "pause.h"
#include "../modes.h"

#include "../../media/font.h"
#include "../../utilities/array_size.h"

bool PauseMenu::pauseBuf = true;
std::string PauseMenu::options[3] = {
	"Resume",
	"Settings",
	"Quit"
};

void PauseMenu::init(Mode::Engine *engine) {

}

void PauseMenu::logic(Mode::Engine *engine) {
	if(engine->getWindow()->getKey(GLFW_KEY_Q)) {
		engine->getWindow()->close();
	}

	if(engine->getWindow()->getKey(GLFW_KEY_ESCAPE)) {
		if(!PauseMenu::pauseBuf) {
			globalGameMode = GAME_LOOP;
			PauseMenu::pauseBuf = true;
		}
	} else {
		PauseMenu::pauseBuf = false;
	}
}

void PauseMenu::render(Mode::Engine *engine) {
	Font::print("Paused", 15, 39);
	for(int i = 0; i < ARRAY_SIZE(PauseMenu::options); ++i) {
		Font::print(PauseMenu::options[i], 100, 100 + 50*i);
	}
}